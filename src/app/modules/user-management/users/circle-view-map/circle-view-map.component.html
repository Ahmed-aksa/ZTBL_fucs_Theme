<div class=" px-10 sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 bg-card dark:bg-transparent">
    <div class=" mt-4 text-3xl font-extrabold tracking-tight pb-2 border-b mb-2 border-green-500 p-2" style="background-color: #f6fcf8;">View Map</div>
    <!-- Header -->
    <div class=" py-2"
    >
    
    <div class="row">
        <div class="col-lg-4 col-sm-12">
            <mat-form-field class="mat-form-field-fluid w-full" appearance="outline" id="focus-removal">
                <mat-label>Zone</mat-label>
                <mat-select (selectionChange)="GetBranches($event)" [(ngModel)]="zoneInitial">
                    <mat-option *ngFor="let zone of Zones" [value]="zone.ZoneId">
                        {{zone.ZoneName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-lg-4 col-sm-12">
            <mat-form-field class="mat-form-field-fluid w-full" appearance="outline" id="focus-removal">
                <mat-label>Branch</mat-label>
                <mat-select (selectionChange)="loadCirclesSinglePoints($event)" [(ngModel)]="branchInitial">
                    <mat-option *ngFor="let branch of Branches" [value]="branch.BranchCode">
                        {{branch.Name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
        

    </div>

    <!-- Main -->

    <!-- Products list -->
    <agm-map  style="width: 500px;height: 500px"
             #gm [zoom]="zoom" [latitude]="lat" [longitude]="lng" [mapTypeControlOptions]="controlOptions"
             [mapTypeControl]="true" (mapReady)="onMapReady($event)" [restriction]="countryRestriction"
             style="height: 500px !important;">

        <agm-marker *ngFor="let m of fenceMarkers; let i = index"
                    (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow; clickedMarker(i, infowindow)"
                    [latitude]="m.lat" [longitude]="m.lng" [title]="m.BranchId">

            <agm-info-window #infowindow>
                <strong>{{m.BranchId}}</strong>
            </agm-info-window>

        </agm-marker>


    </agm-map>

</div>
