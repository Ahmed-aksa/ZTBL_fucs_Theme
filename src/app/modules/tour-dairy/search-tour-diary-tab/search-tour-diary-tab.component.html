<div class="flex flex-auto border shadow-xs rounded-sm bg-gray-50"
     style="flex-direction: column;overflow-y: scroll">
    <div class="example-table-container  px-2">
        <div class="custom-accordion   rounded-lg my-2 bg-white shadow-sm border"
             *ngFor="let activity of TourDiary.TourDiaries ; let i = index;">
            <div class="custom-accordion-head border-0" (click)="toggleAccordion(i)"
                 style="cursor: pointer">
                <div class=" self-center ml-8">
                        <span class=" text-green">
                            {{dateChange(activity?.TourDate)}}
                        </span>
                </div>


                <div class="mr-5">
                    <button mat-icon-button id="{{'arrow_down_'+i}}" style="display: block">
                        <mat-icon>expand_more</mat-icon>
                    </button>
                    <button mat-icon-button id="{{'arrow_up_'+i}}" style="display:none;">
                        <mat-icon>expand_less</mat-icon>
                    </button>
                </div>
            </div>
            <div class="custom-accordion-body" id="{{'table_'+i}}" style="display: none">
                <table class="table table-responsive" style="display: inline-table !important;">
                    <thead class="thead-light">
                    <tr class="table-header-background">
                        <th>Zone</th>
                        <th>Branch</th>
                        <th>Circle</th>
                        <th>Tour Date</th>
                        <!--                            <th>Purpose</th>-->
                        <th>Remarks</th>
                        <th>Status</th>
                        <th>Actions</th>


                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let child of activity?.TourDiariesByDate">
                        <td style="width: 20%">{{child?.ZoneName ? child?.ZoneName : "-"}}</td>
                        <td style="width: 20%">{{child?.BranchName ? child?.BranchName : "-"}}</td>
                        <td style="width: 20%">{{child?.CircleCode ? child?.CircleCode : "-"}}</td>
                        <td style="width: 20%">{{dateChange(child?.TourDate)}}</td>
                        <!--                            <td style="width: 20%">{{child.PurposeName}}</td>-->
                        <td [title]="child.Remarks">
                            <p class="remarks-box">
                                {{child.Remarks.slice(0, 30)}}
                            </p>
                        </td>
                        <td style="width: 20%">{{child.StatusName}}</td>
                        <td>
                            <button mat-icon-button color="primary" *ngIf="CheckDirectionStatus(child) && currentActivity.U"
                                    (click)="redirectTourDiary(child,'E')">
                                <mat-icon style="margin-left: 5px;" title="edit tour diary">edit</mat-icon>
                            </button>
                            <button mat-icon-button color="primary"
                                    (click)="redirectTourDiary(child,'V')">
                                <mat-icon style="margin-left: 5px;" title="edit tour diary">visibility</mat-icon>
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>
