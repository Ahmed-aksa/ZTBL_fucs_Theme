
<div
    class="  sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-auto bg-card dark:bg-transparent">
    <div
    class="sm:inset-0 flex flex-col flex-auto min-w-0 overflow-x-hidden overflow-y-auto bg-card dark:bg-transparent">
    <div [hidden]="isChild" class="heading">Set Target
    </div>
    <div [hidden]="isChild" class="pt-3" [formGroup]="targetForm">
        <div class="row">

            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label>Select Duration</mat-label>
                    <mat-select #sel (selectionChange)="OnChange(sel.value)" formControlName="Duration">
                        <mat-option>
                            Select
                        </mat-option>
                        <mat-option *ngFor="let obj of TargetDuration" [value]="obj.Id">
                            {{obj.Name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-lg-3 col-sm-12">
                <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0">

                    <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 mb-2">
                        <button class="mt-2 bg-gray-500" (click)="find()" mat-flat-button [color]="'primary'">
                            <mat-icon class="mr-2">search</mat-icon>
                            Search
                        </button>
                    </div>

                </div>
            </div>
        </div>


    </div>

    <div class="sub-heading">Targets
    </div>
    <!--        <div class="flex flex-auto overflow-hidden">-->
        <div  *ngIf="ishidden">
    <div class="row">
        <div  class="col-lg-12">
<!--{{AssignTargetHeading|json}}-->
<!--            {{AssignedTargetHeading|json}}-->
            <div class="table-responsive overflow-y-auto overflow-x-hidden" id="map_canvas" >
                <table class="table table-striped" >

<!--                    <thead  *ngIf="AssignTargetHeading?.length>0">-->
<!--                    <tr class="table-header-background">-->
<!--                        <th></th>-->
<!--                        <th *ngFor="let v of AssignHeadingKeys">{{ v }}</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
                    <thead *ngIf="!AssignedTargetHeading">
                    <tr class="table-header-background">
                        <th></th>
                        <ng-container *ngFor="let v of rowth;let i = index">
                            <th *ngIf="i !=0">
                                {{ v }}
                            </th>
                        </ng-container>

                    </tr>
                    </thead>
                    <thead *ngIf="AssignedTargetHeading">
                    <tr class="table-header-background">
                        <th></th>
                        <ng-container *ngFor="let v of AssignedTargetHeadings;let i = index">
                            <th>
                                {{ v }}
                            </th>
                        </ng-container>

                    </tr>
                    </thead>
<!--                    {{ShowassignedTarget|json}}-->
<!--                    {{assignedTarget|json}}-->
<!--                    For Assigned Target     -->
                    <tbody *ngIf="!bankTargets">
                   <tr>
                        <ng-container>
                            <td><div><strong class="text-md">Assigned Targets: </strong></div></td>
                            <td *ngFor="let head of ShowassignedTarget" class="p-2">
                                {{head}}
                            </td>

                        </ng-container>
                    </tr>
                    </tbody>
 <!--                    For Bank Assigned Target     -->
<!--                   Bank assigned target-->
<!--                    {{bankTargets|json}}-->
                    <tbody *ngIf="bankTargets?.length>0">
                    <tr></tr>
                    <tr *ngFor="let roww of bankTargets; let rowIndexx = index; trackBy: trackerr">
                        <td><div><strong class="text-md">Bank Assigned Targets: </strong></div></td>
                        <ng-container *ngFor="let keyy of rowBankKeys; trackBy: trackerr">
                            <td>
                                <div class="target-input" style="width: 200px;">

                                        <div class="mat-form-field-fluid w-full" appearance="outline"
                                        >
                                            <mat-form-field  class="w-full">
                                                <input matInput maxlength="20" (keypress)="numberOnly($event)"
                                                       [attr.value]="roww[keyy]"
                                                       (input)="onBankInputChanged($event.target.value, rowIndexx, keyy)"
                                                />
                                            </mat-form-field>
                                        </div>
                                </div>
                            </td>
                        </ng-container>
                    </tr>
                    </tbody>

<!--                    Main Targets -->
                        <thead>

                        <tr hidden class="table-header-background">
                            <th *ngFor="let k of rowKeys">{{ k }}</th>
                        </tr>
                        <tr class="table-header-background">
                            <th *ngFor="let v of rowth">{{ v }}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let row of targets; let rowIndex = index; trackBy: tracker">
                            <ng-container *ngFor="let key of rowKeys; trackBy: tracker">
                                <td *ngIf="key!='Id'">
                                    <div class="target-input" style="width: 200px;">
                                        <div *ngIf="key=='Name'">

                                        <div><strong class="text-md">{{row[key]}}</strong></div>
                                    </div>
                                    <div *ngIf="key!='Name'">
                                        <div class="mat-form-field-fluid w-full" appearance="outline"
                                        >
                                            <mat-form-field  class="w-full">
                                                <input matInput maxlength="20" (keypress)="numberOnly($event)"
                                                        [attr.value]="row[key]"
                                                        (input)="onInputChanged($event.target.value, rowIndex, key)"

                                                />
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    </div>

                                </td>
                            </ng-container>
                        </tr>
                        </tbody>
                        <thead>
                        <tr class="table-header-background">
                            <th></th>
                            <th *ngFor="let len of totalLength">Total</th>
                        </tr>
                        </thead>
<!--                        {{totals|json}}-->
                        <tbody>
                        <tr *ngIf="totals">
                            <ng-container>
                                <td><div><strong class="text-md">Totals: </strong></div></td>
                                <td *ngFor="let a of totals" class="p-4">
                                    {{a}}
                                </td>

                            </ng-container>
                        </tr>
                        </tbody>
                </table>



            </div>
        </div>
    </div>

    <div class="row mt-2 mr-1">
        <div class="col-lg-12 text-right">
            <button class="ml-2 bg-green" mat-raised-button color="primary" (click)="save()"><mat-icon class="mr-2">save</mat-icon>Save</button>
            <button class="ml-2" mat-raised-button color="primary" (click)="submit()"><mat-icon class="mr-2">check_circle</mat-icon>Submit</button>
        </div>
    </div>
</div>

</div>
</div>

<!--            For ZC Only (Exceptional Case)-->
<!--<ng-container  *ngIf="Multiple?.length>0">-->
<!--    <ng-container *ngFor="let m of Multiple;let i = index">-->
<!--        <ng-container  *ngIf="i>0">-->
<!--            <app-set-target [dateDuration]="dateDuration" [multiple]="true" [UserID]="UserID" [TargetData]="m" ></app-set-target>-->
<!--        </ng-container>-->
<!--    </ng-container>-->

<!--</ng-container>-->
