<div [formGroup]="gridForm"
     class="px-10  sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 overflow-y-scroll overflow-x-hidden bg-card dark:bg-transparent">

    <div class="row pt-3">
        <div class="col-lg-9 col-sm-12">
            <div class="heading">TOUR DIARY & PROGRESS REPORT OF ZM (RECOVERY & SAM)</div>
        </div>
        <div class="col-lg-3 col-sm-12 self-center">


        </div>
    </div>

    <app-zone-branch-circle (branchZoneCircleData)="getAllData($event)" [form]="gridForm" [is_required_circle]="false"
                            [show_branch]="true"
                            [should_filter]="false" [show_circle]="false"
                            hidden></app-zone-branch-circle>


    <div id="Kt-portlet-margin-top">
        <div class="collapse show" id="collapseExample">
            <div class="col-lg-12 p-0  third-table  overflow-auto  shadow-xs rounded-sm bg-gray-50 mt-2">
                <table class="table ">
                    <thead>
                    <tr class=" text-center">
                        <th rowspan="2">Date</th>
                        <th rowspan="2">TourPlan</th>
                        <th colspan="2" rowspan="2">Departure from</th>
                        <th colspan="2" rowspan="2">Arrival at</th>
                        <th colspan="6">Portfolio of the branch visited</th>
                        <th colspan="3">Recovery</th>
                        <th rowspan="4">No. of loan cases in which recovery suits have been filed in Banking Court by
                            the
                            branch
                        </th>
                    </tr>
                    <tr class=" text-center sub-table">
                        <th colspan="2">General</th>
                        <th colspan="2">NPL's</th>
                        <th colspan="2">Sam</th>
                        <th rowspan="2">No. of Demand Notices issued by the branch</th>
                        <th rowspan="2">No. of Legal Notices issued by the branch</th>
                        <th rowspan="2">No. of Notices issued by the branch to SPA/Guarantors</th>
                    </tr>
                    <tr class=" text-center sub-table">
                        <th></th>
                        <th></th>
                        <th>Place</th>
                        <th>Time</th>
                        <th>Place</th>
                        <th>Time</th>
                        <th>No.</th>
                        <th>Amt.</th>
                        <th>No.</th>
                        <th>Amt.</th>
                        <th>No.</th>
                        <th>Amt.</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let ZmTourDiary of TourDiaryList">
                        <td>{{ZmTourDiary?.TourDate}}</td>
                        <td>{{ZmTourDiary?.PlanPurposeName}}</td>
                        <td>{{ZmTourDiary?.DepartureFromPlace}}</td>
                        <td>{{ZmTourDiary?.DepartureFromTime}}</td>
                        <td>{{ZmTourDiary?.ArrivalAtPlace}}</td>
                        <td>{{ZmTourDiary?.ArrivalAtTime}}</td>
                        <td>{{systemGenerated?.PortfolioGeneralNo}}</td>
                        <td>{{systemGenerated?.PortfolioGeneralAmount}}</td>
                        <td>{{systemGenerated?.PortfolioNplNo}}</td>
                        <td>{{systemGenerated?.PortfolioNplAmount}}</td>
                        <td>{{systemGenerated?.PortfolioSamNo}}</td>
                        <td>{{systemGenerated?.PortfolioSamAmount}}</td>
                        <td>{{systemGenerated?.RecDemandNoticesIssued}}</td>
                        <td>{{systemGenerated?.RecLegalNoticesIssued}}</td>
                        <td>{{systemGenerated?.RecNoticesIssuedBySAP}}</td>
                        <td>{{systemGenerated?.RecCasesFiledByBranch}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="col-lg-12 p-0 sec-table overflow-auto border shadow-xs rounded-sm bg-gray-50 mt-2">
                <table class="table ">
                    <thead>
                    <tr class="table-header-background text-center">
                        <th rowspan="2">No. of loan cases in which Recovery Schedule/Revised Recovery Schedules have not
                            been issued to borrowers
                        </th>
                        <th rowspan="2">Whether checked that MCOs and Branch Managerâ€™s tour diaries are as per approved
                            Tour
                            Plan
                        </th>
                        <th rowspan="2">Any short comings in Tour Diaries of MCOs/Branch Manager</th>
                        <th rowspan="2">No. of zero recovery cases of the branch</th>
                        <th colspan="2">No. of loan cases where Reschedulement/Restructuring/write-off remission of
                            mark-up
                            done by the branch
                        </th>
                        <th rowspan="2">No. of Defaulters contacted by the Z.M (Rec. & SAM)</th>
                        <th rowspan="2">Remarks</th>
                    </tr>
                    <tr class="table-header-background text-center sub-table">
                        <th>Activity</th>
                        <th>No.</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let ZmTourDiary of TourDiaryList">
                        <td>{{ZmTourDiary?.LCNotIssuedToBorrowers}}</td>
                        <td>{{ZmTourDiary?.McoNBmTourDiaryAPPlan}}</td>
                        <td>{{ZmTourDiary?.AnyShortComingInDiaries}}</td>
                        <td>{{systemGenerated?.NoOfZeroRecoveryCases}}</td>
                        <td>
                            <ul>
                                <li>Reschedulement</li>
                                <li>Restructring of Installments</li>
                                <li>RightOff/remission</li>
                            </ul>
                        </td>
                        <td>{{systemGenerated?.LoanCasesReschRemissionNO}}</td>
                        <td>{{ZmTourDiary?.NoOfDefaulterContacted}}</td>
                        <td>{{ZmTourDiary?.Remarks}}</td>
                    </tr>

                    </tbody>
                </table>
            </div>

            <div class="col-lg-12 p-0  third-table  overflow-auto border shadow-xs rounded-sm bg-gray-50 mt-2">
                <table class="table ">
                    <thead>
                    <tr class="table-header-background text-center">
                        <th colspan="15">RECOVERY</th>
                    </tr>
                    </thead>
                    <thead>
                    <tr class="table-header-background text-center">
                        <!-- UTILIZATIONS -->
                        <th colspan="3">Amount in default up to the month under report (TARGET)</th>
                        <th colspan="3">Recovery during the month under report</th>
                        <th colspan="3">Balance Recoverable</th>
                        <th colspan="3">Recovery during corresponding period</th>
                        <th rowspan="2">Increase/Deficit</th>
                        <th colspan="2">Reschedulement/Restructuring/Write-off/Remission cases of the branch visited
                        </th>
                    </tr>
                    <tr class="table-header-background text-center sub-table">
                        <th>Past Dues</th>
                        <th>Current Dues</th>
                        <th>Total</th>
                        <th>Past Dues</th>
                        <th>Current Dues</th>
                        <th>Total</th>
                        <th>Past Dues</th>
                        <th>Current Dues</th>
                        <th>Total</th>
                        <th>Past Dues</th>
                        <th>Current Dues</th>
                        <th>Total</th>
                        <th>Activity</th>
                        <th>No.</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>{{systemGenerated?.RecoveryAmountUpToEOMPD}}</td>
                        <td>{{systemGenerated?.RecoveryAmountUpToEOMCD}}</td>
                        <td>{{systemGenerated?.RecoveryAmountUpToEOMTotal}}</td>
                        <td>{{systemGenerated?.RDuringMonthPD}}</td>
                        <td>{{systemGenerated?.RDuringMonthCD}}</td>
                        <td>{{systemGenerated?.RDuringMonthTotal}}</td>
                        <td>{{systemGenerated?.RBalnceRecoverablePD}}</td>
                        <td>{{systemGenerated?.RBalnceRecoverableCD}}</td>
                        <td>{{systemGenerated?.RBalnceRecoverableTotal}}</td>
                        <td>{{systemGenerated?.RDuringCorrespondingPD}}</td>
                        <td>{{systemGenerated?.RDuringCorrespondingCD}}</td>
                        <td>{{systemGenerated?.RDuringCorrespondingTotal}}</td>
                        <td>{{systemGenerated?.RecIncreaseDecrease}}</td>
                        <td>
                            <ul>
                                <li>Reschedulement</li>
                                <li>Restructring of Installments</li>
                                <li>RightOff/remission</li>
                            </ul>
                        </td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>


    </div>

    <div class="row mt-2 mr-1">
        <div class="col-lg-12 text-right">
            <button (click)="changeStatus('A')" class="mr-2 bg-green" color="primary" mat-raised-button
                    type="button">
                <mat-icon class="mr-2">check_circle</mat-icon>
                Approve
            </button>
            <button (click)="changeStatus('R')" class="mr-2  bg-red" color="primary" mat-raised-button
                    type="button">
                <mat-icon class="mr-2">cancel</mat-icon>
                Referback
            </button>
        </div>
    </div>

</div>
