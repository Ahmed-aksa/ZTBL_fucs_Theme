<div
    class=" px-10  sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-scroll bg-card dark:bg-transparent">


    <div class="row pt-3">
        <div class="col-lg-9 col-sm-12">
            <div class="heading">Zone Branch Wise Recovery Report</div>
        </div>
        <div class="col-lg-3 col-sm-12 self-center">

            <p class="text-right">
                <button aria-controls="collapseExample" aria-expanded="false"
                        class="mt-1  py-2 mat-focus-indicator mat-flat-button mat-button-base mat-primary"
                        color="primary" onclick="toggleCollapse()" type="button">
                    <mat-icon class="mr-2" id='arrow'>keyboard_arrow_down</mat-icon>
                    Advance Filter
                </button>
            </p>

        </div>
    </div>

    <div id="Kt-portlet-margin-top">
        <div class="collapse show" id="collapseExample">
            <div class="card card-body">
                <form [formGroup]="reportForm" class="kt-form kt-form--group-seperator-dashed">

                    <div class="kt-form">

                        <div class="kt-portlet__body">

                            <div class="col-lg-12">
                                <div class="flex" style="flex-wrap: wrap;">

                                    <!--                                    <app-zone-branch-circle (branchZoneCircleData)="getAllData($event)" [form]="bufricationForm"-->
                                    <!--                                                            [is_required_circle]="false" [required_branch]="true"-->
                                    <!--                                                            [show_branch]="true"-->
                                    <!--                                                            [show_circle]="false"></app-zone-branch-circle>-->


                                    <div class="col-lg-3 kt-margin-bottom-20-mobile">
                                        <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                                            <mat-label class="customMatLabel">Working Date (ddMMyyyy) <strong class="matMandatory">*</strong>
                                            </mat-label>
                                            <input matInput [matDatepicker]="picker" formControlName="WorkingDate" maxlength="30" [max]="currentTime"
                                                   autocomplete="off" (dateChange)="setDate()" appNumberOnly/>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>
                                        </mat-form-field>
                                    </div>

                                    <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 mx-2"
                                         style="width: 225px;">

                                        <button (click)="find()" class="bg-gray-500" color="primary" mat-raised-button>
                                            <mat-icon class="mr-2">search</mat-icon>
                                            Find
                                        </button>
                                    </div>

                                </div>


                            </div>

                        </div>
                    </div>


                </form>
            </div>
        </div>


    </div>


    <div id="Kt-portlet-margin-top" *ngIf="showTable">
        <div class="collapse show" id="collapseExample">
            <div class="mt-4" id="pdfTable" #pdfTable>
                <div class="col-lg-12">
                    <div class="col-lg-9 col-sm-12">
                        <div class="heading">General Recovery</div>
                    </div>

                    <div  class="col-lg-12 p-0 border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">

                        <table class="table table-striped">
                            <thead>
                            <tr class="table-header-background">
                                <th colspan="2">Daily Recovery</th>
                                <th></th>
                                <th colspan="2">Monthly Recovery</th>
                                <th></th>
                                <th colspan="3">Progressive Recovery {{currentYear}}</th>
                                <th></th>
                            </tr>

                            <tr class="table-header-background">
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                                <th>O/S</th>
                                <th>R.able</th>
                                <th>Recovery</th>
                                <th>%AGE</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data of table_1">
                                <td>{{data?.RECY_AMT_DAILY_N}}</td>
                                <td>{{data?.RECY_AMT_DAILY_O}}</td>
                                <td>{{data?.INC_DEC_D}}</td>
                                <td>{{data?.RECY_AMT_MON_N}}</td>
                                <td>{{data?.RECY_AMT_MON_O}}</td>
                                <td>{{data?.INC_DEC_M}}</td>
                                <td>{{data?.OS_ASOF_N}}</td>
                                <td>{{data?.R_ABLE_N}}</td>
                                <td>{{data?.RECY_AMT_PROG_N}}</td>
                                <td>{{data?.PER_N}}</td>
                            </tr>
                            </tbody>
                        </table>

                    </div>

                    <div  class="col-lg-12 p-0 border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">

                        <table class="table table-striped">
                            <thead>
                            <tr class="table-header-background">
                                <th colspan="3">Progressive Recovery {{lastYear}}</th>
                                <th></th>
                                <th>INC/DEC</th>
                                <th></th>
                                <th colspan="2">Mark-up Recovery</th>
                                <th></th>
                            </tr>

                            <tr class="table-header-background">
                                <th>O/S</th>
                                <th>R.able</th>
                                <th>Recovery</th>
                                <th>%AGE</th>
                                <th>Amount</th>
                                <th>%AGE</th>
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data of table_1">
                                <td>{{data?.OS_ASOF_O}}</td>
                                <td>{{data?.R_ABLE_O}}</td>
                                <td>{{data?.RECY_AMT_PROG_O}}</td>
                                <td>{{data?.PER_O}}</td>
                                <td>{{data?.INC_DEC_P}}</td>
                                <td>{{data?.PER_U}}</td>
                                <td>{{data?.RECY_MK_PROG_N}}</td>
                                <td>{{data?.RECY_MK_PROG_O}}</td>
                                <td>{{data?.INC_DEC_MK_P}}</td>
                            </tr>
                            </tbody>
                        </table>

                    </div>

                </div>

                <div class="col-lg-12">
                    <div class="col-lg-9 col-sm-12">
                        <div class="heading">NPLs</div>
                    </div>

                    <div class="col-lg-12 p-0  border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">

                        <table class="table table-striped">
                            <thead>
                            <tr class="table-header-background">
                                <th>Category</th>
                                <th colspan="6">NPLs TOTAL</th>
                            </tr>

                            <tr class="table-header-background">
                                <th rowspan="2"></th>
                                <th colspan="3">NPLs {{currentYear}}</th>
                                <th colspan="3">NPLs {{lastYear}}</th>
                            </tr>

                            <tr class="table-header-background">
                                <th>Amount</th>
                                <th>%Age with Total</th>
                                <th>Total {{currentYear}}</th>
                                <th>Amount</th>
                                <th>%Age with Total</th>
                                <th>Total {{lastYear}}</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data2 of table_2">
                                <td>{{data2?.CATEGORY_N}}</td>
                                <td>{{data2?.AMOUNT_N}}</td>
                                <td>{{data2?.PERCENTAGE_TOTAL_N}}</td>
                                <td>{{data2?.TOAL_NPL_N}}</td>
                                <td>{{data2?.AMOUNT_O}}</td>
                                <td>{{data2?.PERCENTAGE_TOTAL_O}}</td>
                                <td>{{data2?.TOAL_NPL_O}}</td>
                            </tr>
<!--                            <tr>-->
<!--                                <td>Total</td>-->
<!--                                <td></td>-->
<!--                                <td></td>-->
<!--                                <td></td>-->
<!--                                <td></td>-->
<!--                            </tr>-->
                            </tbody>
                        </table>
                    </div>


                    <div class="col-lg-12 p-0  border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">
                        <table class="table table-striped">
                            <thead>

                            <tr class="table-header-background">
                                <th>NPLs INC/DEC</th>
                                <th>Outstanding</th>
                                <th>Ratio with O/S</th>
                                <th>Outstanding</th>
                                <th>Ratio with O/S</th>
                                <th>RATIO INC/DEC</th>
                                <th>Daily Reduction in NPLs</th>
                                <th>Daily Reduction in Provision</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data2 of table_2">
                                <td>{{data2?.NPL_INC_DEC}}</td>
                                <td>{{data2?.TOTAL_OS_N}}</td>
                                <td>{{data2?.RATIO_OS_N}}</td>
                                <td>{{data2?.TOTAL_OS_O}}</td>
                                <td>{{data2?.RATIO_OS_O}}</td>
                                <td>{{data2?.RATIO_INC_DEC}}</td>
                                <td>{{data2?.DAILY_RED_NPL}}</td>
                                <td>{{data2?.DAILY_RED_PRV}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>


                <div class="col-lg-12">
                    <div class="col-lg-9 col-sm-12">
                        <div class="heading">Sam Recovery</div>
                    </div>

                    <div class="col-lg-12 p-0  border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">
                        <table class="table table-striped">
                            <thead>
                            <tr class="table-header-background">
                                <th colspan="2">Daily Recovery</th>
                                <th></th>
                                <th colspan="2">Monthly Recovery</th>
                                <th></th>
                                <th colspan="3">Progressive Recovery {{currentYear}}</th>
                            </tr>

                            <tr class="table-header-background">
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                                <th>OUTSTANDING</th>
                                <th>RECOVERY</th>
                                <th>%AGE</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data3 of table_3">
                                <td>{{data3?.RECOVERY_DAY}}</td>
                                <td>{{data3?.RECOVERY_DAY_P}}</td>
                                <td></td>
                                <td>{{data3?.RECOVERY_MONTH}}</td>
                                <td>{{data3?.RECOVERY_MONTH_P}}</td>
                                <td></td>
                                <td>{{data3?.OS_CYEAR}}</td>
                                <td></td>
                                <td></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-lg-12 p-0  border shadow-xs rounded-sm bg-gray-50 mt-2 mb-2">
                        <table class="table table-striped">
                            <thead>
                            <tr class="table-header-background">
                                <th colspan="3">Progressive Recovery {{lastYear}}</th>
                                <th colspan="2">INC/DEC</th>
                                <th colspan="2">SAM ADDITION</th>
                                <th></th>
                            </tr>

                            <tr class="table-header-background">
                                <th>OUTSTANDING</th>
                                <th>RECOVERY</th>
                                <th>%AGE</th>
                                <th>Amount</th>
                                <th>%AGE</th>
                                <th>{{currentYear}}</th>
                                <th>{{lastYear}}</th>
                                <th>INC/DEC</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let data3 of table_3">
                                <td>{{data3?.OS_LYEAR}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>

            </div>

        </div>

    </div>

    <div class="row mt-2 mr-1" *ngIf="showTable">
        <div class="col-lg-12 text-right">
            <button (click)="printReport()"
                    class="mr-2 bg-green" color="primary" mat-raised-button
                    type="button">
                <mat-icon class="mr-2">print</mat-icon>
                Print
            </button>
        </div>
    </div>


</div>


