<!-- <div id="Kt-portlet-margin-top"> -->
<div id="Kt-portlet">

    <div class="kt-portlet">
        <!--[ngClass]="{ 'kt-portlet--body-progress' : viewLoading, 'kt-portlet--body-progress-overlay' : loadingAfterSubmit }"-->
        <div class="w-full flex">

            <h3 class="heading w-11/12">Location</h3>


            <button (click)="close(0)" class="w-1/12 text-end" color="danger">
                <mat-icon class="text-danger">cancel</mat-icon>
            </button>
        </div>
    </div>


    <form>
        <div class="row">
            <div class="col-lg-12 col-md-12  mat-elevation-z8">

                <!--            <label>Search</label>-->
                <!--                <input matInput class="" type="text" (keydown.enter)="$event.preventDefault()"-->
                <!--                       placeholder="Search Nearest Location" autocorrect="off" autocapitalize="off"-->
                <!--                       spellcheck="off" type="text"-->
                <!--                       #search>-->
                <agm-map #gm (mapReady)="onMapReady($event)" [fitBounds]="true" [fullscreenControl]='true' [latitude]="lat"
                         [longitude]="lng" [mapTypeControl]='true' [restriction]="countryRestriction"
                         [zoom]="zoom"
                         style="height: 85vh !important;">
                    <agm-marker *ngFor="let coordinate of start_end_mark; let i=index" [agmFitBounds]="true"

                                [iconUrl]="iconChange(i)"
                                [latitude]="isNumber(coordinate?.Latitude)" [longitude]="isNumber(coordinate?.Longitude)">

                        <agm-info-window [isOpen]="true">
                            <strong>{{Heading(i)}}</strong>
                        </agm-info-window>
                    </agm-marker>
                    <!--                                   -->
                    <!--                   <agm-marker *ngFor="let m of fenceMarkers; let i = index"-->
                    <!--                               (markerClick)="gm.lastOpen?.close();-->
                    <!--                                gm.lastOpen = infoWindow;-->
                    <!--                                 // clickedMarker(i, infowindow)"-->
                    <!--                               viewCircleFence()-->
                    <!--                               [latitude]="m.lat" [longitude]="m.lng" [title]="m.BranchId">-->

                    <!--                       <agm-info-window #infowindow>-->
                    <!--                           <strong>{{m.BranchId}}</strong>-->
                    <!--                       </agm-info-window>-->

                    <!--                   </agm-marker>-->


                    <agm-polyline [strokeColor]="'#07b57a'" [strokeWeight]="3" [visible]="true">
                        <agm-polyline-point
                            *ngFor="let coordinate of latlong; let i=index"
                            [latitude]="isNumber(coordinate?.Latitude)"
                            [longitude]="isNumber(coordinate?.Longitude)">
                        </agm-polyline-point>
                    </agm-polyline>
                </agm-map>

                <!-- <button (click)="addMarker()">Add marker</button> -->

            </div>
        </div>
    </form>

</div>


<!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)"
                 size="medium"
                 color="#ecbd00"
                 type="ball-scale-multiple">
      <p style="font-size: 20px; color: white">Loading...</p>
    </ngx-spinner> -->
