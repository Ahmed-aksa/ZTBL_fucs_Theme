<div class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-hidden bg-card dark:bg-transparent">
  <div class="text-4xl font-extrabold tracking-tight mx-10 mt-4">Loan List</div>
  <!-- Header -->
  <div class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-4 px-6 md:px-8 "
  [formGroup]="loanSearch">
  <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
    
    <mat-form-field class="mat-form-field-fluid mr-4" appearance="outline">
      <mat-label>Application Date(ddMMyyyy)</mat-label>
      <input readonly="readonly" matInput [matDatepicker]="picker3" placeholder="ddMMyyyy" autocomplete="off" formControlName="Appdt">
      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
      <mat-datepicker #picker3></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="mat-form-field-fluid mr-4" appearance="outline">
      <mat-label>LA File/Booklet#</mat-label>
      <input matInput placeholder="Enter >LA File/Booklet" formControlName="AppNo">
    </mat-form-field>

    <mat-form-field class="mat-form-field-fluid mr-4" appearance="outline">
      <mat-label>Status</mat-label>
      <mat-select formControlName="Status">
        <mat-option>
          <ngx-mat-select-search placeholderLabel="Search Loan Status..." (focusout)="validateLoanStatusOnFocusOut()" noEntriesFoundLabel="No Loan Status Found" (keyup)="searchLoanStatus($event.target.value)">
          </ngx-mat-select-search>
        </mat-option>
        <mat-option *ngFor="let loanStatus of SelectedLoanStatus" [value]="loanStatus.Id">
          {{loanStatus.Name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="mat-form-field-fluid mr-4" appearance="outline">
      <mat-label>Loan Case#</mat-label>
      <input matInput placeholder="Enter Loan Case Number" formControlName="LcNo">
    </mat-form-field>

    <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4 mb-2">
      <button (click)="searchLoan()" class="ml-4" mat-flat-button [color]="'primary'">
        <span class="ml-2 mr-1">Search</span>
      </button>
    </div>

</div>
  </div>

  <!-- Main -->
  <div class="flex flex-auto overflow-y-scroll mx-10">

    <!-- Products list -->
    <div class="flex flex-auto overflow-hidden" style="flex-direction: column;">
      <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto">
      <mat-table class="lmat-elevation-z8"
                   #table
                   [dataSource]="dataSource"
                   matSort
                   #sort1="matSort"
                   matSortActive="id"
                   matSortDirection="asc"
                   matSortDisableClear>

          <ng-container matColumnDef="BranchName">
            <!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->
            <mat-header-cell *matHeaderCellDef mat-sort-header>Branch</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.BranchName}}</mat-cell>
          </ng-container>


          <ng-container matColumnDef="AppDate">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Application Date</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.AppDate}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="AppNumberManual">
            <mat-header-cell *matHeaderCellDef mat-sort-header>LA File/Booklet#</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.AppNumberManual}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="LoanCaseNo">
            <mat-header-cell *matHeaderCellDef mat-sort-header>LCNO</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.LoanCaseNo}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="ApplicationTitle">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Title</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.ApplicationTitle}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="DevAmount">
            <mat-header-cell *matHeaderCellDef mat-sort-header>DEV AMOUNT</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.DevAmount}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="ProdAmount">
            <mat-header-cell *matHeaderCellDef mat-sort-header>PROD AMOUNT</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.ProdAmount}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="StatusName">
            <mat-header-cell *matHeaderCellDef mat-sort-header>STATUS</mat-header-cell>
            <mat-cell *matCellDef="let loan">{{loan.StatusName}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="Action">
            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>
            <mat-cell *matCellDef="let loan">
              <button mat-icon-button color="primary" (click)="editLoan(loan)">
                <mat-icon style="margin-left: 5px;" title="View Loan">accessibility_new</mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns;sticky:true;" class="table-header-background"></mat-header-row>

          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
        </mat-table>
        <div class="mat-table__message" *ngIf="dataSource.data.length==0">No records found</div>
      </div>

    </div>

  </div>

</div>





