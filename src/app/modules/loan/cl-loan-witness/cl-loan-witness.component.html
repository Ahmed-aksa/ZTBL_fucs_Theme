<!-- Personal Sureties Begin -->
<div class="kt-portlet">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Personal Sureties</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="personalSuretiesForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Percentage</th>
                                    <th>Address</th>
                                    <th>Phone</th>
                                    <th>Account No</th>
                                    <th>Source Of Income</th>
                                    <th>Annual Income</th>
                                    <th>Asset Value</th>
                                    <th>Present dues</th>
                                    <th>Net Value</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Cnic" matInput maxlength="13"/>
                                            <mat-hint *ngIf="hasError('Cnic', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500 text-xs">
                                                Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appAlphabetOnly formControlName="FullName" matInput maxlength="25"/>
                                            <mat-hint *ngIf="hasError('FullName', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Full Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Percentage" matInput maxlength="2"/>
                                            <mat-hint *ngIf="hasError('Percentage', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Percentage
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="Address" matInput maxlength="150"/>
                                            <mat-hint *ngIf="hasError('Address', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Phone" matInput maxlength="11"/>
                                            <mat-hint *ngIf="hasError('Phone', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Phone
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="AccountNo" matInput maxlength="14"/>
                                            <mat-hint *ngIf="hasError('AccountNo', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Account No.
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appAlphaNumericField formControlName="SourceofIncome" matInput
                                                   maxlength="13"/>
                                            <mat-hint *ngIf="hasError('SourceofIncome', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Source of Income
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="AnnualIncome" matInput
                                                   maxlength="8"/>
                                            <mat-hint *ngIf="hasError('AnnualIncome', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Annual Income
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="AssetValue" matInput maxlength="9"/>
                                            <mat-hint *ngIf="hasError('AssetValue', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Asset Value
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="PresentDues" matInput maxlength="9"/>
                                            <mat-hint *ngIf="hasError('PresentDues', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Present Dues
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline"
                                                        class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="NetValue" matInput maxlength="9"/>
                                            <mat-hint *ngIf="hasError('NetValue', 'required') && isSubmittedPersonalSuretiesForm"
                                                      class="text-red-500">
                                                Net Value
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <div class="flex">
                                            <button (click)="onSavePersonalSuretiesForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex font-bold items-center	" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearLoanSuretiesForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-group kt-form__group row mt-3 pr-0">
                        <div class="col-lg-12  pr-0">
                            <div class="table-responsive">
                                <table *ngIf="loanPersonalSuretiesArray.length !=0" class="table table-striped">
                                    <thead>
                                    <tr class="table-header-background">
                                        <th>CNIC</th>
                                        <th>Name</th>
                                        <th>Percentage</th>
                                        <th>Address</th>
                                        <th>Phone</th>
                                        <th>Account No</th>
                                        <th>Source Of Income</th>
                                        <th>Annual Income</th>
                                        <th>Asset Value</th>
                                        <th>Present Dues</th>
                                        <th>Net Value</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr *ngFor="let loan of loanPersonalSuretiesArray; let i = index;">
                                        <td>{{loan.Cnic}}</td>
                                        <td>{{loan.FullName}}</td>
                                        <td>{{loan.Percentage}}</td>
                                        <td>{{loan.Address}}</td>
                                        <td>{{loan.Phone}}</td>
                                        <td>{{loan.AccountNo}}</td>
                                        <td>{{loan.SourceofIncome}}</td>
                                        <td>{{loan.AnnualIncome}}</td>
                                        <td>{{loan.AssetValue}}</td>
                                        <td>{{loan.PresentDues}}</td>
                                        <td>{{loan.NetValue}}</td>


                                        <td>
                                            <button (click)="onEditPersonalSureties(loan)" *ngIf="currentActivity?.U"
                                                    class="flex  font-bold  items-center"
                                                    color="primary" type="button">
                                                <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                Edit
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Personal Sureties End -->
<!-- Corporate sureties Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Corporate sureties</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="corporateSuretiesForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12 ">
                        <div class="table-responsive overflow-x-hidden">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Company Name</th>
                                    <th>Memorandum Date</th>
                                    <th>Reference NO.</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="CompanyName" matInput maxlength="50"/>
                                            <mat-hint *ngIf="hasErrorCorporateSuretiesForm('CompanyName', 'required') && isSubmittedCorporateSuretiesForm"
                                                      class="text-red-500">
                                                CompanyName
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input [matDatepicker]="picker3" formControlName="MemorandumDate" matInput
                                                   readonly="readonly">
                                            <mat-datepicker-toggle [for]="picker3" matSuffix></mat-datepicker-toggle>
                                            <mat-datepicker #picker3></mat-datepicker>
                                            <mat-hint *ngIf="hasErrorCorporateSuretiesForm('MemorandumDate', 'required') && isSubmittedCorporateSuretiesForm"
                                                      class="text-red-500">
                                                MemorandumDate
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="RefrenceNo" matInput maxlength="50"/>
                                            <mat-hint *ngIf="hasErrorCorporateSuretiesForm('RefrenceNo', 'required') && isSubmittedCorporateSuretiesForm"
                                                      class="text-red-500">
                                                Refrence No.
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>


                                        <div class="flex">
                                            <button (click)="onSaveCorporateSuretiesForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex  font-bold  items-center"
                                                    color="primary" type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearCorporateSuretiesForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center"
                                                    color="primary" type="button">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                    </td>

                                </tr>
                                </tbody>
                            </table>
                            <div class="form-group kt-form__group row pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table *ngIf="loanCorporateSuretyArray.length!=0" class="table table-striped">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>Company Name</th>
                                                <th>Memorandum Date</th>
                                                <th>Reference No.</th>
                                                <th></th>

                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanCorporateSuretyArray; let i = index;">
                                                <td>{{loan.CompanyName}}</td>
                                                <td>{{loan.MemorandumDate}}</td>
                                                <td>{{loan.RefrenceNo}}</td>


                                                <td>
                                                    <button (click)="onEditLoanCorporateSuretyArray(loan)" *ngIf="currentActivity?.C"
                                                            class="flex  font-bold  items-center" color="primary"
                                                            type="button">
                                                        <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                        Edit
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- Corporate sureties End -->
<!-- References Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">References</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="loanRefrencesForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Address</th>
                                    <th>Phone</th>
                                    <th>FAX</th>
                                    <th>Email</th>
                                    <th>NTN</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Cnic" matInput maxlength="13"/>
                                            <mat-hint *ngIf="hasErrorLoanRefrencesForm('Cnic', 'required') && isSubmittedLoanRefrencesForm"
                                                      class="text-red-500">
                                                Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appAlphabetOnly formControlName="Name" matInput maxlength="25"/>
                                            <mat-hint *ngIf="hasErrorLoanRefrencesForm('Name', 'required') && isSubmittedLoanRefrencesForm"
                                                      class="text-red-500">
                                                Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="Address" matInput maxlength="150"/>
                                            <mat-hint *ngIf="hasErrorLoanRefrencesForm('Address', 'required') && isSubmittedLoanRefrencesForm"
                                                      class="text-red-500">
                                                Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Phone" matInput maxlength="11"/>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appAlphaNumericField formControlName="Fax" matInput maxlength="11"/>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="Email" matInput maxlength="50"/>
                                            <mat-hint *ngIf="hasErrorLoanRefrencesForm('Email', 'email') && isSubmittedLoanRefrencesForm"
                                                      class="text-red-500">
                                                Email Format Incorrect
                                            </mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Ntn" matInput maxlength="13"/>
                                            <mat-hint *ngIf="hasErrorLoanRefrencesForm('Ntn', 'required') && isSubmittedLoanRefrencesForm"
                                                      class="text-red-500">
                                                Ntn
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button (click)="onSaveLoanRefrencesForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearLoanRefrencesForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-group kt-form__group row mt-3 pr-0">
                        <div class="col-lg-12 pr-0">
                            <div class="table-responsive">
                                <table *ngIf="loanRefrenceArray.length!=0" class="table table-striped">
                                    <thead>
                                    <tr class="table-header-background">
                                        <th>ID</th>
                                        <th>CNIC</th>
                                        <th>Name</th>
                                        <th>Address</th>
                                        <th>Phone</th>
                                        <th>FAX</th>
                                        <th>Email</th>
                                        <th>NTN</th>
                                        <th></th>

                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr *ngFor="let loan of loanRefrenceArray; let i = index;">
                                        <td>{{i + 1}}</td>
                                        <td>{{loan.Cnic}}</td>
                                        <td>{{loan.Name}}</td>
                                        <td>{{loan.Address}}</td>
                                        <td>{{loan.Phone}}</td>
                                        <td>{{loan.Fax}}</td>
                                        <td>{{loan.Email}}</td>
                                        <td>{{loan.Ntn}}</td>


                                        <td>
                                            <button (click)="onEditRefrence(loan)" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                Edit
                                            </button>


                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- References End -->
<!-- Witnesses Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Witnesses</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="loanWitnessForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Address</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="Cnic" matInput maxlength="13"/>
                                            <mat-hint *ngIf="hasErrorLoanWitnessForm('Cnic', 'required') && isSubmittedLoanWitnessForm"
                                                      class="text-red-500">
                                                Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="WitnessName" matInput maxlength="25"/>
                                            <mat-hint *ngIf="hasErrorLoanWitnessForm('WitnessName', 'required') && isSubmittedLoanWitnessForm"
                                                      class="text-red-500">
                                                Witness Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="WitnessAddress" matInput maxlength="150"/>
                                            <mat-hint *ngIf="hasErrorLoanWitnessForm('WitnessAddress', 'required') && isSubmittedLoanWitnessForm"
                                                      class="text-red-500">
                                                Witness Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button (click)="onSaveLoanWitnessForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearLoanWitnessForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class="text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-group kt-form__group row pr-0">
                        <div class="col-lg-12 pr-0">
                            <div class="table-responsive">
                                <table *ngIf="loanWitnessArray.length!=0" class="table table-striped">
                                    <thead>
                                    <tr class="table-header-background">
                                        <th>Cnic</th>
                                        <th>Name</th>
                                        <th>Address</th>
                                        <th></th>

                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr *ngFor="let loan of loanWitnessArray; let i = index;">
                                        <td>{{loan.Cnic}}</td>
                                        <td>{{loan.WitnessName}}</td>
                                        <td>{{loan.WitnessAddress}}</td>


                                        <td>

                                            <button (click)="onEditLoanWitnessArray(loan)" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                Edit
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Witnesses End -->
<!-- Past Paid Loans Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Past Paid Loans</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="loanPastPaidForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Bank Name</th>
                                    <th>Due Amount</th>
                                    <th>Due Date</th>
                                    <th>Last Payment On</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="BankName" matInput maxlength="50"/>
                                            <mat-hint *ngIf="hasErrorLoanPastPaidForm('BankName', 'required') && isSubmittedLoanPastPaidForm"
                                                      class="text-red-500">
                                                Bank Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="AmountToPaid" matInput maxlength="7"/>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input [matDatepicker]="picker4" formControlName="DueDate" matInput
                                                   readonly="readonly">
                                            <mat-datepicker-toggle [for]="picker4" matSuffix></mat-datepicker-toggle>
                                            <mat-datepicker #picker4></mat-datepicker>
                                            <mat-hint *ngIf="hasErrorLoanPastPaidForm('DueDate', 'required') && isSubmittedLoanPastPaidForm"
                                                      class="text-red-500">
                                                Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input [matDatepicker]="picker5" formControlName="LastPaidDate" matInput
                                                   readonly="readonly">
                                            <mat-datepicker-toggle [for]="picker5" matSuffix></mat-datepicker-toggle>
                                            <mat-datepicker #picker5></mat-datepicker>
                                            <mat-hint *ngIf="hasErrorLoanPastPaidForm('LastPaidDate', 'required') && isSubmittedLoanPastPaidForm"
                                                      class="text-red-500">
                                                Last Paid Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button (click)="onSaveLoanPastPaidForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearLoanPastPaidForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>


                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-group kt-form__group row mt-3 pr-0">
                        <div class="col-lg-12 pr-0">
                            <div class="table-responsive">
                                <table *ngIf="loanPastPaidArray.length!=0" class="table table-striped">
                                    <thead>
                                    <tr class="table-header-background">
                                        <th>Bank Name</th>
                                        <th>Due Amount</th>
                                        <th>Due Date</th>
                                        <th>Last Payment On</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr *ngFor="let loan of loanPastPaidArray; let i = index;">
                                        <td>{{loan.BankName}}</td>
                                        <td>{{loan.AmountToPaid}}</td>
                                        <td>{{loan.DueDate}}</td>
                                        <td>{{loan.LastPaidDate}}</td>


                                        <td>

                                            <button (click)="onEditLoanPastPaidArray(loan)" class="flex  font-bold  items-center"
                                                    color="primary" type="button">
                                                <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                Edit
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Past Paid Loans End -->
<!-- Current Loans Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Current Loans</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form [formGroup]="currentLoansForm" class="kt-form kt-form--group-seperator-dashed">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Purpose</th>
                                    <th>Bank Name</th>
                                    <th>Total Loan</th>
                                    <th>Security/Surety</th>
                                    <th>Date Loan Availed</th>
                                    <th>Outstanding Amount</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                    <th>Facility</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="PurposeDetail" matInput/>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('DueDate', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="BankName" matInput maxlength="50"/>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('BankName', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Bank Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="TotalDebit" matInput maxlength="8"/>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('TotalDebit', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Total Debit
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input formControlName="GurenteeDetail" matInput/>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('GurenteeDetail', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Gurentee Detail
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input [matDatepicker]="picker6" [max]="today" formControlName="DateDebitAcheive"
                                                   matInput readonly="readonly">
                                            <mat-datepicker-toggle [for]="picker6" matSuffix></mat-datepicker-toggle>
                                            <mat-datepicker #picker6></mat-datepicker>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('DateDebitAcheive', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Date Debit Acheive
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input appNumberOnly formControlName="AmountToPaid" matInput/>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('AmountToPaid', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Amount To Paid
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <input [matDatepicker]="picker7" formControlName="DueDate" matInput
                                                   readonly="readonly">
                                            <mat-datepicker-toggle [for]="picker7" matSuffix></mat-datepicker-toggle>
                                            <mat-datepicker #picker7></mat-datepicker>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('DueDate', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <mat-select formControlName="Status">
                                                <mat-option *ngFor="let obj of status_lovs?.LOVs" [value]="obj?.Value">
                                                    {{obj.Name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('Status', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Status
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="mat-form-field-fluid">
                                            <mat-select formControlName="FundNonfundFlag">
                                                <mat-option *ngFor="let obj of funded_lovs?.LOVs" [value]="obj?.Value">
                                                    {{obj.Name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-hint *ngIf="hasErrorCurrentLoansForm('FundNonfundFlag', 'required') && isSubmittedCurrentLoansForm"
                                                      class="text-red-500">
                                                Fund Non-fund Flag
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button (click)="onSaveCurrentLoansForm()" *ngIf="currentActivity?.C"
                                                    class=" mr-3 flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button (click)="onClearCurrentLoansForm()" *ngIf="currentActivity?.C"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-group kt-form__group row mt-3 pr-0">
                        <div class="col-lg-12 pr-0">
                            <div class="table-responsive">
                                <table *ngIf="loanCurrentList.length !=0" class="table table-striped">
                                    <thead>
                                    <tr class="table-header-background">
                                        <th>Purpose</th>
                                        <th>Bank Name</th>
                                        <th>Total Loan</th>
                                        <th>Security/Surety</th>
                                        <th>Date Loan Availed</th>
                                        <th>Outstanding Amount</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                        <th>Facility</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr *ngFor="let loan of loanCurrentList; let i = index;">
                                        <td>{{loan.PurposeDetail}}</td>
                                        <td>{{loan.BankName}}</td>
                                        <td>{{loan.TotalDebit}}</td>
                                        <td>{{loan.GurenteeDetail}}</td>
                                        <td>{{loan.DateDebitAcheive}}</td>
                                        <td>{{loan.AmountToPaid}}</td>
                                        <td>{{loan.DueDate}}</td>
                                        <td>{{loan.StatusName}}</td>
                                        <td>{{loan.FundNonfundFlagName}}</td>


                                        <td>
                                            <button (click)="onEditLoanCurrentList(loan)" *ngIf="currentActivity?.U"
                                                    class="flex  font-bold  items-center" color="primary"
                                                    type="button">
                                                <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                Edit
                                            </button>


                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Current Loans End -->
<!-- Documents Attached Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Documents Attached</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed"> <!--  CheckListForm -->
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <button (click)="getCheckList()"
                                class="mat-focus-indicator mat-flat-button mat-button-base mat-primary float-right">Refresh Check List
                        </button>
                    </div>
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <div *ngFor="let doc of loanDocumentsCheckList; let i = index;"
                             style="display:inline; margin-right:1%">
                            <mat-checkbox (change)="setUnsetDocumentCheckBox($event)" [checked]="CheckAttached(doc.isAttached)"
                                          [value]="doc.DocumentID"
                                          class="text-md py-2">
                                {{doc.DocName}}
                            </mat-checkbox>

                        </div>
                    </div>
                </div>

                <div class="form-group kt-form__group row mt-2">
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <button (click)="saveCheckList()"
                                *ngIf="currentActivity?.C"
                                class="mat-focus-indicator mat-flat-button mat-button-base mat-primary" style="background-color: #01671B;">
                            <mat-icon class="mr-2">save</mat-icon>
                            Save
                        </button>
                        <button (click)="submitLoanApplication()"
                                *ngIf="currentActivity?.U" class="mat-focus-indicator mat-flat-button mat-button-base mat-primary mx-2">
                            <mat-icon class="mr-2">check_circle</mat-icon>
                            Submit
                        </button>
                        <!--<button class="btn btn-primary mr-1p">New Case</button>
                        <button class="btn btn-primary mr-1p">Pending List</button>-->
                    </div>
                </div>

            </div>
        </form>
    </div>
</div>
<!-- Documents Attached End -->


<!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)"
             size="medium"
             color="#ecbd00"
             type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner> -->

