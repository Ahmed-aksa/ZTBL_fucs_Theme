<!-- Personal Sureties Begin -->
<div class="kt-portlet">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Personal Sureties</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="personalSuretiesForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Percentage</th>
                                    <th>Address</th>
                                    <th>Phone</th>
                                    <th>Account No</th>
                                    <th>Source Of Income</th>
                                    <th>Annual Income</th>
                                    <th>Asset Value</th>
                                    <th>Present dues</th>
                                    <th>Net Value</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td >
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="13" appNumberOnly formControlName="Cnic"/>
                                            <mat-hint class="text-red-500 text-xs" *ngIf="hasError('Cnic', 'required') && isSubmittedPersonalSuretiesForm" >Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="50" appAlphabetOnly formControlName="FullName"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('FullName', 'required') && isSubmittedPersonalSuretiesForm" >Full Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="2" appNumberOnly formControlName="Percentage"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('Percentage', 'required') && isSubmittedPersonalSuretiesForm" >Percentage
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="150" formControlName="Address"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('Address', 'required') && isSubmittedPersonalSuretiesForm" >Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="11" appNumberOnly formControlName="Phone"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('Phone', 'required') && isSubmittedPersonalSuretiesForm" >Phone
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput appNumberOnly maxlength="14" formControlName="AccountNo"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('AccountNo', 'required') && isSubmittedPersonalSuretiesForm" >Account No.
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="13" appAlphaNumericField
                                                   formControlName="SourceofIncome"/>
                                                   <mat-hint class="text-red-500" *ngIf="hasError('SourceofIncome', 'required') && isSubmittedPersonalSuretiesForm" >Source of Income
                                                    <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="8" appNumberOnly
                                                   formControlName="AnnualIncome"/>
                                                   <mat-hint class="text-red-500" *ngIf="hasError('AnnualIncome', 'required') && isSubmittedPersonalSuretiesForm" >Annual Income
                                                    <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="8" appNumberOnly formControlName="AssetValue"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('AssetValue', 'required') && isSubmittedPersonalSuretiesForm" >Asset Value
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="8" appNumberOnly formControlName="PresentDues"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('PresentDues', 'required') && isSubmittedPersonalSuretiesForm" >Present Dues
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid"
                                                        appearance="outline">
                                            <input matInput appNumberOnly formControlName="NetValue" maxlength="8"/>
                                            <mat-hint class="text-red-500" *ngIf="hasError('NetValue', 'required') && isSubmittedPersonalSuretiesForm" >Net Value
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex font-bold"
                                                 color="primary" (click)="onSavePersonalSuretiesForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onClearLoanSuretiesForm()">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        </div>    
                            <div class="form-group kt-form__group row mt-3 pr-0">
                                <div class="col-lg-12  pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanPersonalSuretiesArray.length !=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>CNIC</th>
                                                <th>Name</th>
                                                <th>Percentage</th>
                                                <th>Address</th>
                                                <th>Phone</th>
                                                <th>Account No</th>
                                                <th>Source Of Income</th>
                                                <th>Annual Income</th>
                                                <th>Asset Value</th>
                                                <th>Present Dues</th>
                                                <th>Net Value</th>
                                                <th></th>
                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanPersonalSuretiesArray; let i = index;">
                                                <td>{{loan.Cnic}}</td>
                                                <td>{{loan.FullName}}</td>
                                                <td>{{loan.Percentage}}</td>
                                                <td>{{loan.Address}}</td>
                                                <td>{{loan.Phone}}</td>
                                                <td>{{loan.AccountNo}}</td>
                                                <td>{{loan.SourceofIncome}}</td>
                                                <td>{{loan.AnnualIncome}}</td>
                                                <td>{{loan.AssetValue}}</td>
                                                <td>{{loan.PresentDues}}</td>
                                                <td>{{loan.NetValue}}</td>


                                                <td>
                                                    <button  type="button" class="flex  font-bold"
                                                        color="primary" (click)="onEditPersonalSureties(loan)">
                                                        <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                        Edit
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Personal Sureties End -->
<!-- Corporate sureties Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Corporate sureties</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="corporateSuretiesForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12 ">
                        <div class="table-responsive overflow-x-hidden">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Company Name</th>
                                    <th>Memorandum Date</th>
                                    <th>Reference NO.</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="50" formControlName="CompanyName"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCorporateSuretiesForm('CompanyName', 'required') && isSubmittedCorporateSuretiesForm" >CompanyName
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input readonly="readonly" matInput [matDatepicker]="picker3"
                                                   formControlName="MemorandumDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                            <mat-datepicker #picker3></mat-datepicker>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCorporateSuretiesForm('MemorandumDate', 'required') && isSubmittedCorporateSuretiesForm" >MemorandumDate
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input appNumberOnly matInput maxlength="50" formControlName="RefrenceNo"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCorporateSuretiesForm('RefrenceNo', 'required') && isSubmittedCorporateSuretiesForm" >Refrence No.
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        
                                        
                                        
                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex  font-bold"
                                                 color="primary" (click)="onSaveCorporateSuretiesForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onClearCorporateSuretiesForm()">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                    </td>

                                </tr>
                                </tbody>
                            </table>
                            <div class="form-group kt-form__group row pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanCorporateSuretyArray.length!=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>Company Name</th>
                                                <th>Memorandum Date</th>
                                                <th>Reference No.</th>
                                                <th></th>

                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanCorporateSuretyArray; let i = index;">
                                                <td>{{loan.CompanyName}}</td>
                                                <td>{{loan.MemorandumDate}}</td>
                                                <td>{{loan.RefrenceNo}}</td>


                                                <td>
                                                    <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onEditLoanCorporateSuretyArray(loan)">
                                                    <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                    Edit
                                                </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- Corporate sureties End -->
<!-- References Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">References</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="loanRefrencesForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Address</th>
                                    <th>Phone</th>
                                    <th>FAX</th>
                                    <th>Email</th>
                                    <th>NTN</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="13" appNumberOnly formControlName="Cnic"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanRefrencesForm('Cnic', 'required') && isSubmittedLoanRefrencesForm" >Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="50" appAlphabetOnly formControlName="Name"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanRefrencesForm('Name', 'required') && isSubmittedLoanRefrencesForm" >Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="150" formControlName="Address"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanRefrencesForm('Address', 'required') && isSubmittedLoanRefrencesForm" >Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="11" appNumberOnly formControlName="Phone"/>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="11" appAlphaNumericField formControlName="Fax"/>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="50" formControlName="Email"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanRefrencesForm('Email', 'email') && isSubmittedLoanRefrencesForm" >Email Format Incorrect
                                            </mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input appNumberOnly matInput maxlength="13" formControlName="Ntn"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanRefrencesForm('Ntn', 'required') && isSubmittedLoanRefrencesForm" >Ntn
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        
                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex  font-bold"
                                                 color="primary" (click)="onSaveLoanRefrencesForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onClearLoanRefrencesForm()">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            </div>
                            </div>
                            <div class="form-group kt-form__group row mt-3 pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanRefrenceArray.length!=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>ID</th>
                                                <th>CNIC</th>
                                                <th>Name</th>
                                                <th>Address</th>
                                                <th>Phone</th>
                                                <th>FAX</th>
                                                <th>Email</th>
                                                <th>NTN</th>
                                                <th></th>

                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanRefrenceArray; let i = index;">
                                                <td>{{i + 1}}</td>
                                                <td>{{loan.Cnic}}</td>
                                                <td>{{loan.Name}}</td>
                                                <td>{{loan.Address}}</td>
                                                <td>{{loan.Phone}}</td>
                                                <td>{{loan.Fax}}</td>
                                                <td>{{loan.Email}}</td>
                                                <td>{{loan.Ntn}}</td>


                                                <td>
                                                    <button  type="button" class="flex  font-bold"
                                                        color="primary" (click)="onEditRefrence(loan)">
                                                        <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                        Edit
                                                     </button>
                                                    
                                                
                                                   </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- References End -->
<!-- Witnesses Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Witnesses</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="loanWitnessForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>CNIC</th>
                                    <th>Name</th>
                                    <th>Address</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="13" appNumberOnly formControlName="Cnic"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanWitnessForm('Cnic', 'required') && isSubmittedLoanWitnessForm" >Cnic
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="50" formControlName="WitnessName"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanWitnessForm('WitnessName', 'required') && isSubmittedLoanWitnessForm" >Witness Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput maxlength="150" formControlName="WitnessAddress"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanWitnessForm('WitnessAddress', 'required') && isSubmittedLoanWitnessForm" >Witness Address
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        
                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex  font-bold"
                                                 color="primary" (click)="onSaveLoanWitnessForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onClearLoanWitnessForm()">
                                                <mat-icon class="text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>

                                </tr>
                                </tbody>
                            </table>
                            </div>
                            </div>
                            <div class="form-group kt-form__group row pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanWitnessArray.length!=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>Cnic</th>
                                                <th>Name</th>
                                                <th>Address</th>
                                                <th></th>

                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanWitnessArray; let i = index;">
                                                <td>{{loan.Cnic}}</td>
                                                <td>{{loan.WitnessName}}</td>
                                                <td>{{loan.WitnessAddress}}</td>


                                                <td>
                                                    
                                                    <button  type="button" class="flex  font-bold"
                                                    color="primary" (click)="onEditLoanWitnessArray(loan)">
                                                    <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                    Edit
                                                 </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Witnesses End -->
<!-- Past Paid Loans Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Past Paid Loans</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="loanPastPaidForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Bank Name</th>
                                    <th>Due Amount</th>
                                    <th>Due Date</th>
                                    <th>Last Payment On</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput max="50" formControlName="BankName"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanPastPaidForm('BankName', 'required') && isSubmittedLoanPastPaidForm" >Bank Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput max="7" appNumberOnly formControlName="AmountToPaid"/>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input readonly="readonly" matInput [matDatepicker]="picker4"
                                                   formControlName="DueDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                            <mat-datepicker #picker4></mat-datepicker>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanPastPaidForm('DueDate', 'required') && isSubmittedLoanPastPaidForm" >Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input readonly="readonly" matInput [matDatepicker]="picker5"
                                                   formControlName="LastPaidDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                            <mat-datepicker #picker5></mat-datepicker>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorLoanPastPaidForm('LastPaidDate', 'required') && isSubmittedLoanPastPaidForm" >Last Paid Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex  font-bold"
                                                 color="primary" (click)="onSaveLoanPastPaidForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary"  (click)="onClearLoanPastPaidForm()">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>



                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            </div>
                            </div>

                            <div class="form-group kt-form__group row mt-3 pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanPastPaidArray.length!=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>Bank Name</th>
                                                <th>Due Amount</th>
                                                <th>Due Date</th>
                                                <th>Last Payment On</th>
                                                <th></th>
                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanPastPaidArray; let i = index;">
                                                <td>{{loan.BankName}}</td>
                                                <td>{{loan.AmountToPaid}}</td>
                                                <td>{{loan.DueDate}}</td>
                                                <td>{{loan.LastPaidDate}}</td>


                                                <td>
                                                    
                                                    <button  type="button" class="flex  font-bold"
                                                    color="primary"  (click)="onEditLoanPastPaidArray(loan)">
                                                    <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                    Edit
                                                 </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Past Paid Loans End -->
<!-- Current Loans Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Current Loans</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed" [formGroup]="currentLoansForm">
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr class="table-header-background">
                                    <th>Purpose</th>
                                    <th>Bank Name</th>
                                    <th>Total Loan</th>
                                    <th>Security/Surety</th>
                                    <th>Date Loan Availed</th>
                                    <th>Outstanding Amount</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                    <th>Facility</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput formControlName="PurposeDetail"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('DueDate', 'required') && isSubmittedCurrentLoansForm" >Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput max="50" formControlName="BankName"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('BankName', 'required') && isSubmittedCurrentLoansForm" >Bank Name
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input maxlength="8" matInput appNumberOnly formControlName="TotalDebit"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('TotalDebit', 'required') && isSubmittedCurrentLoansForm" >Total Debit
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input matInput formControlName="GurenteeDetail"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('GurenteeDetail', 'required') && isSubmittedCurrentLoansForm" >Gurentee Detail
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input readonly="readonly" matInput [matDatepicker]="picker6"
                                                   formControlName="DateDebitAcheive" [max]="today">
                                            <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                            <mat-datepicker #picker6></mat-datepicker>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('DateDebitAcheive', 'required') && isSubmittedCurrentLoansForm" >Date Debit Acheive
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input appNumberOnly matInput formControlName="AmountToPaid"/>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('AmountToPaid', 'required') && isSubmittedCurrentLoansForm" >Amount To Paid
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <input readonly="readonly" matInput [matDatepicker]="picker7"
                                                   formControlName="DueDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
                                            <mat-datepicker #picker7></mat-datepicker>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('DueDate', 'required') && isSubmittedCurrentLoansForm" >Due Date
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <mat-select formControlName="Status">
                                                <mat-option *ngFor="let obj of status_lovs?.LOVs" [value]="obj?.Value">
                                                    {{obj.Name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('Status', 'required') && isSubmittedCurrentLoansForm" >Status
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                            <mat-select formControlName="FundNonfundFlag">
                                                <mat-option *ngFor="let obj of funded_lovs?.LOVs" [value]="obj?.Value">
                                                    {{obj.Name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-hint class="text-red-500" *ngIf="hasErrorCurrentLoansForm('FundNonfundFlag', 'required') && isSubmittedCurrentLoansForm" >Fund Non-fund Flag
                                                <strong>required</strong></mat-hint>
                                        </mat-form-field>

                                    </td>
                                    <td>

                                        <div class="flex">
                                            <button  type="button" class=" mr-3 flex  font-bold"
                                                 color="primary" (click)="onSaveCurrentLoansForm()">
                                                <mat-icon class=" text-2xl text-green">save</mat-icon>
                                                Save
                                            </button>
                                            <button  type="button" class="flex  font-bold"
                                                    color="primary"  (click)="onClearCurrentLoansForm()">
                                                <mat-icon class=" text-2xl text-red-500">cancel</mat-icon>
                                                Cancel
                                            </button>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            </div>
                            </div>

                            <div class="form-group kt-form__group row mt-3 pr-0">
                                <div class="col-lg-12 pr-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped" *ngIf="loanCurrentList.length !=0">
                                            <thead>
                                            <tr class="table-header-background">
                                                <th>Purpose</th>
                                                <th>Bank Name</th>
                                                <th>Total Loan</th>
                                                <th>Security/Surety</th>
                                                <th>Date Loan Availed</th>
                                                <th>Outstanding Amount</th>
                                                <th>Due Date</th>
                                                <th>Status</th>
                                                <th>Facility</th>
                                                <th> </th>
                                            </tr>
                                            </thead>
                                            <tbody class="">
                                            <tr *ngFor="let loan of loanCurrentList; let i = index;">
                                                <td>{{loan.PurposeDetail}}</td>
                                                <td>{{loan.BankName}}</td>
                                                <td>{{loan.TotalDebit}}</td>
                                                <td>{{loan.GurenteeDetail}}</td>
                                                <td>{{loan.DateDebitAcheive}}</td>
                                                <td>{{loan.AmountToPaid}}</td>
                                                <td>{{loan.DueDate}}</td>
                                                <td>{{loan.StatusName}}</td>
                                                <td>{{loan.FundNonfundFlagName}}</td>


                                                <td>
                                                    <button  type="button" class="flex  font-bold"
                                                    color="primary"  (click)="onEditLoanCurrentList(loan)">
                                                    <mat-icon class=" text-xl text-gray-500">edit</mat-icon>
                                                    Edit
                                                 </button>

                                                
                                                
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                </div>
            </div>
        </form>
    </div>
</div>
<!-- Current Loans End -->
<!-- Documents Attached Begin -->
<div class="kt-portlet mt-3">
    <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
            <h5 class="sub-heading">Documents Attached</h5>
        </div>
    </div>
    <div class="kt-portlet__body">
        <form class="kt-form kt-form--group-seperator-dashed"> <!--  CheckListForm -->
            <div class="kt-form">
                <div class="form-group kt-form__group row">
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <button class="mat-focus-indicator mat-flat-button mat-button-base mat-primary float-right"
                                (click)="getCheckList()">Refresh Check List
                        </button>
                    </div>
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <div *ngFor="let doc of loanDocumentsCheckList; let i = index;"
                             style="display:inline; margin-right:1%">
                            <mat-checkbox class="text-md py-2" [value]="doc.DocumentID" (change)="setUnsetDocumentCheckBox($event)"
                                          [checked]="CheckAttached(doc.isAttached)">
                                {{doc.DocName}}
                            </mat-checkbox>

                        </div>
                    </div>
                </div>

                <div class="form-group kt-form__group row mt-2">
                    <div class="col-lg-12 kt-margin-bottom-20-mobile">
                        <button style="background-color: #01671B;"
                                class="mat-focus-indicator mat-flat-button mat-button-base mat-primary"
                                (click)="saveCheckList()">
                            <mat-icon class="mr-2">save</mat-icon>
                            Save
                        </button>
                        <button class="mat-focus-indicator mat-flat-button mat-button-base mat-primary mx-2"
                                (click)="submitLoanApplication()">
                            <mat-icon class="mr-2">check_circle</mat-icon>
                            Submit
                        </button>
                        <!--<button class="btn btn-primary mr-1p">New Case</button>
                        <button class="btn btn-primary mr-1p">Pending List</button>-->
                    </div>
                </div>

            </div>
        </form>
    </div>
</div>
<!-- Documents Attached End -->


<!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)"
             size="medium"
             color="#ecbd00"
             type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner> -->

