<form [formGroup]='PostDocument' (ngSubmit)="PostDocuments(PostDocument)">

    <div
        class=" px-10 sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-scroll bg-card dark:bg-transparent">

        <div class="row pt-3">
            <div class="col-lg-9 col-sm-12">
                <div class="heading">Document Information</div>
            </div>

        </div>

        <!-- Header -->

        <div class="row pt-3">
            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label class="customMatLabel">Document Loan Type  <strong class="matMandatory">*</strong></mat-label>
                    <mat-select formControlName="DocLoanId">
                        <mat-option>
                            <ngx-mat-select-search placeholderLabel="Search Loan Type..." (focusout)="validateLoanTypeOnFocusOut()" noEntriesFoundLabel="No Loan Type Found" (keyup)="searchLoanType($event.target.value)">
                            </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let documentType of documentSelectedLoanType" [value]="documentType.Id">
                            {{documentType.Name }}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="hasError('ParentDocId', 'required')">Parent Doc Id <strong>required</strong></mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label class="customMatLabel">Documents <strong class="matMandatory">*</strong></mat-label>
                    <mat-select formControlName="ParentDocId">
                        <mat-option>
                            <ngx-mat-select-search placeholderLabel="Search Loan Type..." (focusout)="validateLoanTypeOnFocusOut()" noEntriesFoundLabel="No Loan Type Found" (keyup)="searchLoanType($event.target.value)">
                            </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let documentType of SelectedDocument" [value]="documentType.Id">
                            {{documentType.Name }}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="hasError('ParentDocId', 'required')">Parent Doc Id <strong>required</strong></mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label class="customMatLabel">Document Ref No. <strong class="matMandatory">*</strong></mat-label>
                    <input matInput formControlName="DocumentRefNo">
                    <mat-error *ngIf="hasError('DocumentRefNo', 'required')">Document Ref No <strong>required</strong></mat-error>
                    <!--<mat-select formControlName="CustomerID">
              <mat-option>
                test
              </mat-option>

            </mat-select>-->
                    <!--<mat-error *ngIf="hasError('ZoneId', 'required')">Zone <strong>required</strong></mat-error>-->
                </mat-form-field>
            </div>
            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label class="customMatLabel">No of Files to Upload<strong class="matMandatory">*</strong></mat-label>
                    <input matInput formControlName="NoOfFilesToUpload">
                    <mat-error *ngIf="hasError('NoOfFilesToUpload', 'required')">No Of Files To Upload <strong>required</strong></mat-error>
                </mat-form-field>
            </div>

        </div>

        <div class="row pt-3">
            <div class="col-lg-3 col-sm-12">
                <input formControlName="file" id="file" type="file" (change)="onFileChange($event)">
            </div>
            <div class="col-lg-3 col-sm-12">
                <mat-form-field class="mat-form-field-fluid w-full" appearance="outline">
                    <mat-label class="customMatLabel">Page No</mat-label>
                    <input matInput formControlName="PageNumber">
                </mat-form-field>
            </div>
            <div class="col-lg-3 col-sm-12">
                <button  type="button" class="mt-2 bg-green mat-focus-indicator mat-flat-button mat-button-base mat-primary" (click)="saveLoanDocuments()"><mat-icon class="mr-2">save</mat-icon> Save</button>

            </div>

        </div>




  </div>

<!--<div class="row">-->
<!--  <div class="col-lg-12">-->
<!--    <button style="background-color: #01671B;" type="button" class="mat-focus-indicator mat-flat-button mat-button-base mat-primary" (click)="saveLoanDocuments()"><mat-icon class="mr-2">save</mat-icon> Save</button>-->
<!--  </div>-->
<!--</div>-->

</form>


<div class="form-group kt-form__group row" style="margin-top: 2%">
  <div class="col-lg-12">
    <div class="table-responsive">
      <table class="table table-striped" *ngIf="loanDocumentArray.length !=0">
        <thead>
          <tr class="table-header-background">
            <th>Loan Type</th>
            <th>Loan Status</th>
            <th>Document Id</th>
            <th>Description</th>
            <th>Loan Case ID</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="">
          <tr *ngFor="let loan of loanDocumentArray; let i = index;">
            <td>{{loan.LoanType}}</td>
            <td>{{loan.LoanStatus}}</td>
            <td>{{loan.DocumentId}}</td>
            <td>{{loan.Description}}</td>
            <td>{{loan.LoanCaseID}}</td>

            <td style="cursor: pointer; color: #ecbd00;"> <span (click)="viewDocument(loan.DocumentId, $event)">View</span> | <span (click)="deleteDocument(loan.DocumentId)" >Delete</span></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  </div>
